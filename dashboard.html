<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VOID INTERFACE | GOJO</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root { --accent: #00d9ff; --bg: #050505; --panel: #0a0a0a; --dim: #333; }
        body { background: var(--bg); color: var(--accent); font-family: 'Inter', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* Sidebar Navigation */
        .sidebar { width: 80px; border-right: 1px solid #111; display: flex; flex-direction: column; align-items: center; padding: 20px 0; gap: 30px; }
        .nav-icon { width: 30px; height: 30px; border: 1px solid var(--dim); border-radius: 5px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        .nav-icon:hover { border-color: var(--accent); box-shadow: 0 0 10px var(--accent); }

        /* Main Viewport */
        .viewport { flex: 1; padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .head-section { display: flex; justify-content: space-between; align-items: flex-end; border-bottom: 1px solid #111; padding-bottom: 10px; }
        
        /* Dashboard Stats */
        .stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
        .mini-card { background: var(--panel); padding: 15px; border-radius: 2px; border-left: 2px solid var(--dim); }
        .mini-card h3 { margin: 0; font-size: 10px; color: #555; text-transform: uppercase; }
        .mini-card p { margin: 5px 0 0; font-size: 24px; color: #fff; font-weight: bold; }

        /* Modern Data List */
        .feed-container { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; padding-right: 10px; }
        .feed-item { background: var(--panel); padding: 15px; display: grid; grid-template-columns: 80px 180px 1fr 120px 100px; align-items: center; border: 1px solid transparent; transition: 0.3s; }
        .feed-item:hover { border-color: #222; background: #0c0c0c; }
        
        .ip-text { font-family: 'JetBrains Mono', monospace; font-size: 14px; color: #fff; }
        .label-sm { font-size: 9px; color: #444; text-transform: uppercase; display: block; }
        
        .risk-bar { height: 2px; width: 100%; background: #111; margin-top: 5px; position: relative; }
        .risk-fill { height: 100%; background: var(--accent); position: absolute; left: 0; }

        button { background: transparent; border: 1px solid #222; color: #555; padding: 5px 10px; font-size: 10px; cursor: pointer; text-transform: uppercase; }
        button:hover { border-color: var(--accent); color: var(--accent); }

        ::-webkit-scrollbar { width: 3px; }
        ::-webkit-scrollbar-thumb { background: #111; }
    </style>
</head>
<body>

    <nav class="sidebar">
        <div class="nav-icon" title="Dashboard">●</div>
        <div class="nav-icon" title="Map">◇</div>
        <div class="nav-icon" title="Settings">⚙</div>
    </nav>

    <div class="viewport">
        <div class="head-section">
            <h1 style="margin:0; font-size: 18px; letter-spacing: 2px;">VOID_SYSTEM [V6.0]</h1>
            <div id="sys-time" style="font-size: 11px; color: #333;"></div>
        </div>

        <div class="stats-row">
            <div class="mini-card"><h3>Total Nodes</h3><p id="st-count">0</p></div>
            <div class="mini-card"><h3>Active Ops</h3><p id="st-ops">0</p></div>
            <div class="mini-card"><h3>Threat Level</h3><p id="st-risk" style="color: #00ff41;">NORMAL</p></div>
            <div class="mini-card"><h3>Last Sync</h3><p id="st-last" style="font-size: 14px; margin-top: 15px;">WAITING...</p></div>
        </div>

        <div class="feed-container" id="feed">
            </div>
    </div>

    <script>
        const SUPABASE_URL = 'https://kisbfmcxvcwtxfwbgexb.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_THarexbaf5WB2Cc-c6t-sg_TQJycbtz';
        const _supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        async function update() {
            const { data, count } = await _supabase.from('telemetry').select('*', { count: 'exact' }).order('created_at', { ascending: false });
            if (data) {
                document.getElementById('st-count').innerText = count;
                document.getElementById('st-ops').innerText = [...new Set(data.map(i => i.operation_id))].length;
                document.getElementById('st-last').innerText = new Date().toLocaleTimeString();
                
                const list = document.getElementById('feed');
                list.innerHTML = '';
                data.forEach(item => {
                    const isMyIp = item.ip === '94.230.231.77';
                    list.innerHTML += `
                        <div class="feed-item">
                            <div><span class="label-sm">OP_ID</span><span style="font-size: 12px;">${item.operation_id}</span></div>
                            <div><span class="label-sm">ADDRESS</span><span class="ip-text">${item.ip}</span></div>
                            <div>
                                <span class="label-sm">LOCATION</span>
                                <span style="font-size: 12px; color: #777;">${item.location}</span>
                                <div class="risk-bar"><div class="risk-fill" style="width: ${isMyIp ? '80%' : '10%'}; background: ${isMyIp ? '#ff003c' : '#00ff41'}"></div></div>
                            </div>
                            <div style="text-align: center;"><span class="label-sm">PLATFORM</span><span style="font-size: 10px;">${item.user_agent.split(' ')[1]}</span></div>
                            <div style="text-align: right;">
                                <button onclick="window.open('https://www.abuseipdb.com/check/${item.ip}')">INFO</button>
                            </div>
                        </div>`;
                });
            }
        }

        setInterval(() => { document.getElementById('sys-time').innerText = new Date().toISOString(); }, 100);
        setInterval(update, 10000);
        window.onload = update;
    </script>
</body>
</html>
</html>
